{% extends 'PartialTemplates/Base.html' %}
{% block pagetitle %}{{ pagetitle }}{% endblock %}
{% block customstyles %}<style type="text/css"></style>{% endblock %}
{% block maincontent %}
  <div class="container-fluid">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item active" aria-current="page">
          <i class="fa fa-home"></i> User Profile <i class="fa fa-chevron-right"></i> {{ pagetitle }}
        </li>
      </ol>
    </nav>
    <form name="UserCreateForm" action="" method="post">
      {% csrf_token %}
      <div class="card card-primary card-outline mt-3">
        <div class="card-header">
          <h4 class="card-title header0">User Profile Creation</h4>
        </div>
        <div class="card-body card-body-withmaxheight">
          <div class="row mt1">
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
              <label for="{{ UserCreateForm.first_name.id_for_label }}" class="lbl">
                First Name <i class="mandatory">*</i>
              </label>
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{ UserCreateForm.first_name }}</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
              <label for="{{ UserCreateForm.last_name.id_for_label }}" class="lbl">
                Last Name <i class="mandatory">*</i>
              </label>
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{ UserCreateForm.last_name }}</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
              <label for="{{ UserCreateForm.site.id_for_label }}" class="lbl">
                Site <i class="mandatory">*</i>
              </label>
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{ UserCreateForm.site }}</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
              <label for="{{ UserCreateForm.language.id_for_label }}" class="lbl">
                Language <i class="mandatory">*</i>
              </label>
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{ UserCreateForm.language }}</div>
          </div>
          <div class="row mt1">
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
              <label for="{{ UserCreateForm.role.id_for_label }}" class="lbl">
                Role <i class="mandatory">*</i>
              </label>
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{ UserCreateForm.role }}</div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
              <label for="{{ UserCreateForm.email.id_for_label }}" class="lbl">
                Email ID <i class="mandatory">*</i>
              </label>
            </div>
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">{{ UserCreateForm.email }}</div>
          </div>
          <div class="row mt1">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              <button type="submit"
                      name="actionname"
                      value="save"
                      class="btn btn-primary btn-sm">Save</button>
              <button type="reset"
                      name="actionname"
                      value="resetpage"
                      class="btn btn-warning btn-sm">Reset</button>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
              {% if UserCreateForm.errors %}
                {% for field in UserCreateForm %}
                  {% for error in field.errors %}
                    <h6 class="text-danger">
                      <strong>{{ field.label }}:</strong> {{ error }}
                    </h6>
                  {% endfor %}
                {% endfor %}
                {% for error in UserCreateForm.non_field_errors %}<p class="text-danger">{{ error }}</p>{% endfor %}
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </form>
    {% if ProfileList %}
      <div class="card card-success card-outline mt-3">
        <div class="card-header">
          <h4 class="card-title header0">Recently Created Profiles</h4>
        </div>
        <div class="card-body card-body-withmaxheight">
          <div class="row mt1">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
              <form name="TypeLookupFormDelete" action="" method="post">
                {% csrf_token %}
                <table class="table">
                  <thead>
                    <tr>
                      <th>S No</th>
                      <th>Site</th>
                      <th>Role</th>
                      <th>First Name</th>
                      <th>Last Name</th>
                      <th>Language</th>
                      <th>Login ID</th>
                      <th>Password</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% with loopcount=1 %}
                      {% for item in page_obj %}
                        <tr>
                          <td>{{ forloop.counter }}</td>
                          <td>{{ item.userprofile.site }}</td>
                          <td>{{ item.userprofile.role }}</td>
                          <td>{{ item.first_name }}</td>
                          <td>{{ item.last_name }}</td>
                          <td>{{ item.userprofile.language }}</td>
                          <td>{{ item.username }}</td>
                          <td>
                            {% if item.userprofile.role == "Candidate" %}
                              {{ item.userprofile.candpassword|default:"NA" }}
                            {% else %}
                              --
                            {% endif %}
                          </td>
                        </tr>
                      {% endfor %}
                    {% endwith %}
                  </tbody>
                </table>
                <div class="pagination text-right justify-content-end">
                  <ul class="pagination mb-0">
                    {% for num in page_obj.paginator.page_range %}
                      {% if num == page_obj.number %}
                        <li class="active page-item disabled">
                          <a class="page-link" href="#">{{ num }}</a>
                        </li>
                      {% else %}
                        <li class="page-item">
                          <a href="?page={{ num }}" class="page-link">{{ num }}</a>
                        </li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                </div>
                <input type="hidden" name="deletelookupid" id="hdftypelookuprecordid" />
              </form>
            </div>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
{% endblock maincontent %}
{% block customscript %}
  <script type="text/javascript">
    $(document).ready(function () {
      $('.spanloading').show()
    })


    function ValidateSubmitForm(){

    }
  </script>
{% endblock customscript %}
